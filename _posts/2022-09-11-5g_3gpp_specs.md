---
layout: post
title: Points from 5G 3GPP specs
tags: 5g
---

This is just a collection of notes reading the 3GPP specs. you can download the whole spec from 3gpp.org. some snippets are copied from the spec directly.

## Architecture shift 
- cloud native leveraging NFVs and software defined networking. 
- Separation of control plane (CP) and Userplane (UP)
- Enable network separation (slicing). I.e. create logical slices for various services 
- Service based architecture. each network function interacts with the other either directly or via a service proxy.
- converged architecture for wireline and wireless 
    - wireline would leverage the same 5GC (5G core) via an AGF (access gateway function)
    - applications such as fixed wireless access for home broadband 

![architecture](/images/5g_arch.png)

## Network functions in 5G
-	Authentication Server Function (AUSF).
-	Access and Mobility Management Function (AMF).
-	Data Network (DN), e.g. operator services, Internet access or 3rd party services.
-	Unstructured Data Storage Function (UDSF).
-	Network Exposure Function (NEF).
-	Network Repository Function (NRF).
-	Network Slice Admission Control Function (NSACF).
-	Network Slice-specific and SNPN Authentication and Authorization Function (NSSAAF).
-	Network Slice Selection Function (NSSF).
-	Policy Control Function (PCF).
-	Session Management Function (SMF).
-	Unified Data Management (UDM).
-	Unified Data Repository (UDR).
    - stores information such as (subscription data, policy data , structured data for exposure, application data)
-	User Plane Function (UPF).
-	UE radio Capability Management Function (UCMF).
-	Application Function (AF).
-	User Equipment (UE).
-	(Radio) Access Network ((R)AN).
-	5G-Equipment Identity Register (5G-EIR).
-	Network Data Analytics Function (NWDAF).
-	CHarging Function (CHF).
-	Time Sensitive Networking AF (TSN AF).
-	Time Sensitive Communication and Time Synchronization Function (TSCTSF).
-	Data Collection Coordination Function (DCCF).(Can be hosted on NWDAF)
-	Analytics Data Repository Function (ADRF). (Can be hosted on NWDAF)
-	Messaging Framework Adaptor Function (MFAF).
-	Non-Seamless WLAN Offload Function (NSWOF).
-   Service communicatio proxy (SCP)
-   Security edge protection proxy (SEPP)

## Reference points
- N1:	Reference point between the UE and the AMF.
- N2:	Reference point between the (R)AN and the AMF.
- N3:	Reference point between the (R)AN and the UPF.
- N4:	Reference point between the SMF and the UPF.
- N6:	Reference point between the UPF and a Data Network.
- N9:	Reference point between two UPFs.
- N5:	Reference point between the PCF and an AF or TSN AF.
- N7:	Reference point between the SMF and the PCF.
- N8:	Reference point between the UDM and the AMF.
- N10:	Reference point between the UDM and the SMF.
- N11:	Reference point between the AMF and the SMF.
- N12:	Reference point between AMF and AUSF.
- N13:	Reference point between the UDM and Authentication Server function the AUSF.
- N14:	Reference point between two AMFs.
- N15:	Reference point between the PCF and the AMF in the case of non-roaming scenario, PCF in the visited network and AMF in the case of roaming scenario.
- N16:	Reference point between two SMFs, (in roaming case between SMF in the visited network and the SMF in the home network).
- N16a:	Reference point between SMF and I-SMF.
- N17:	Reference point between AMF and 5G-EIR.
- N18:	Reference point between any NF and UDSF.
- N19:	Reference point between two PSA UPFs for 5G LAN-type service.
- N22:	Reference point between AMF and NSSF.
- N23:	Reference point between PCF and NWDAF.
- N24:	Reference point between the PCF in the visited network and the PCF in the home network.
- N27:	Reference point between NRF in the visited network and the NRF in the home network.
- N28:	Reference point between PCF and CHF.
- N29:	Reference point between NEF and SMF.
- N30:	Reference point between PCF and NEF.
- N31:	Reference point between the NSSF in the visited network and the NSSF in the home network.
- N32:	Reference point between a SEPP in one PLMN or SNPN and a SEPP in another PLMN or SNPN; or between a SEPP in a SNPN and a SEPP in a CH/DCS, where the CH/DCS contains a UDM/AUSF
- N33:	Reference point between NEF and AF.
- N34:	Reference point between NSSF and NWDAF.
- N35:	Reference point between UDM and UDR.
- N36:	Reference point between PCF and UDR.
- N37:	Reference point between NEF and UDR.
- N38:	Reference point between I-SMFs and between V-SMFs.
- N40:	Reference point between SMF and the CHF
- N41:	Reference point between AMF and CHF in HPLMN.
- N42:	Reference point between AMF and CHF in VPLMN.
- N43:	Reference point between PCFs
- N50:	Reference point between AMF and the CBCF.
- N51:	Reference point between AMF and NEF.
- N52:	Reference point between NEF and UDM.
- N55:	Reference point between AMF and the UCMF.
- N56:	Reference point between NEF and the UCMF.
- N57:	Reference point between AF and the UCMF.
- N58:	Reference point between AMF and the NSSAAF.
- N59:	Reference point between UDM and the NSSAAF.
- N60:	Reference point between AUSF and NSWOF.
- N80:	Reference point between AMF and NSACF.
- N81:	Reference point between SMF and NSACF.
- N82:	Reference point between NSACF and NEF.
- N83:	Reference point between AUSF and NSSAAF.
- N84:	Reference point between TSCTSF and PCF.
- N85:	Reference point between TSCTSF and NEF.
- N86:	Reference point between TSCTSF and AF.
- N87:	Reference point between TSCTSF and UDR.
- N88:	Reference point between SMF and EASDF.

## AMF 
- Once the UE is successful in registration, the AMF will allocate the 5G-GUTI (Globally Unique Identifier)
- The AN then selects an AMF that maintains the UE context. If it was previously registered, uses GUAMI derived from the GUTI and enables AMF to correlate the UE request to the existing U-Context.
